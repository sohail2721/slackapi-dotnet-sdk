// <copyright file="AdminUsersController.cs" company="APIMatic">
// SlackWebApi.Standard
//
// This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
// </copyright>
using APIMatic.Core;
using APIMatic.Core.Utilities;
using SlackWebApi.Standard.Exceptions;
using SlackWebApi.Standard.Http.Response;
using System.Net.Http;
using System.Threading;
using System.Threading.Tasks;

namespace SlackWebApi.Standard.Controllers
{
    /// <summary>
    /// AdminUsersController.
    /// </summary>
    public class AdminUsersController : BaseController
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="AdminUsersController"/> class.
        /// </summary>
        internal AdminUsersController(GlobalConfiguration globalConfiguration) : base(globalConfiguration) { }

        /// <summary>
        /// Add an Enterprise user to a workspace.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: The ID of the user to add to the workspace..</param>
        /// <param name="isRestricted">Optional parameter: True if user should be added to the workspace as a guest..</param>
        /// <param name="isUltraRestricted">Optional parameter: True if user should be added to the workspace as a single-channel guest..</param>
        /// <param name="channelIds">Optional parameter: Comma separated values of channel IDs to add user in the new workspace..</param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public ApiResponse<Models.DefaultSuccessTemplate> AdminUsersAssign(
                string token,
                string teamId,
                string userId,
                bool? isRestricted = null,
                bool? isUltraRestricted = null,
                string channelIds = null)
            => CoreHelper.RunTask(AdminUsersAssignAsync(token, teamId, userId, isRestricted, isUltraRestricted, channelIds));

        /// <summary>
        /// Add an Enterprise user to a workspace.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: The ID of the user to add to the workspace..</param>
        /// <param name="isRestricted">Optional parameter: True if user should be added to the workspace as a guest..</param>
        /// <param name="isUltraRestricted">Optional parameter: True if user should be added to the workspace as a single-channel guest..</param>
        /// <param name="channelIds">Optional parameter: Comma separated values of channel IDs to add user in the new workspace..</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public async Task<ApiResponse<Models.DefaultSuccessTemplate>> AdminUsersAssignAsync(
                string token,
                string teamId,
                string userId,
                bool? isRestricted = null,
                bool? isUltraRestricted = null,
                string channelIds = null,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.DefaultSuccessTemplate>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/admin.users.assign")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("token", token).Required())
                      .Form(form => form.Setup("team_id", teamId).Required())
                      .Form(form => form.Setup("user_id", userId).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))
                      .Form(form => form.Setup("is_restricted", isRestricted))
                      .Form(form => form.Setup("is_ultra_restricted", isUltraRestricted))
                      .Form(form => form.Setup("channel_ids", channelIds))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new DefaultErrorTemplateException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Invite a user to a workspace.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="email">Required parameter: The email address of the person to invite..</param>
        /// <param name="channelIds">Required parameter: A comma-separated list of `channel_id`s for this user to join. At least one channel is required..</param>
        /// <param name="customMessage">Optional parameter: An optional message to send to the user in the invite email..</param>
        /// <param name="realName">Optional parameter: Full name of the user..</param>
        /// <param name="resend">Optional parameter: Allow this invite to be resent in the future if a user has not signed up yet. (default: false).</param>
        /// <param name="isRestricted">Optional parameter: Is this user a multi-channel guest user? (default: false).</param>
        /// <param name="isUltraRestricted">Optional parameter: Is this user a single channel guest user? (default: false).</param>
        /// <param name="guestExpirationTs">Optional parameter: Timestamp when guest account should be disabled. Only include this timestamp if you are inviting a guest user and you want their account to expire on a certain date..</param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public ApiResponse<Models.DefaultSuccessTemplate> AdminUsersInvite(
                string token,
                string teamId,
                string email,
                string channelIds,
                string customMessage = null,
                string realName = null,
                bool? resend = null,
                bool? isRestricted = null,
                bool? isUltraRestricted = null,
                string guestExpirationTs = null)
            => CoreHelper.RunTask(AdminUsersInviteAsync(token, teamId, email, channelIds, customMessage, realName, resend, isRestricted, isUltraRestricted, guestExpirationTs));

        /// <summary>
        /// Invite a user to a workspace.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="email">Required parameter: The email address of the person to invite..</param>
        /// <param name="channelIds">Required parameter: A comma-separated list of `channel_id`s for this user to join. At least one channel is required..</param>
        /// <param name="customMessage">Optional parameter: An optional message to send to the user in the invite email..</param>
        /// <param name="realName">Optional parameter: Full name of the user..</param>
        /// <param name="resend">Optional parameter: Allow this invite to be resent in the future if a user has not signed up yet. (default: false).</param>
        /// <param name="isRestricted">Optional parameter: Is this user a multi-channel guest user? (default: false).</param>
        /// <param name="isUltraRestricted">Optional parameter: Is this user a single channel guest user? (default: false).</param>
        /// <param name="guestExpirationTs">Optional parameter: Timestamp when guest account should be disabled. Only include this timestamp if you are inviting a guest user and you want their account to expire on a certain date..</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public async Task<ApiResponse<Models.DefaultSuccessTemplate>> AdminUsersInviteAsync(
                string token,
                string teamId,
                string email,
                string channelIds,
                string customMessage = null,
                string realName = null,
                bool? resend = null,
                bool? isRestricted = null,
                bool? isUltraRestricted = null,
                string guestExpirationTs = null,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.DefaultSuccessTemplate>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/admin.users.invite")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("token", token).Required())
                      .Form(form => form.Setup("team_id", teamId).Required())
                      .Form(form => form.Setup("email", email).Required())
                      .Form(form => form.Setup("channel_ids", channelIds).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))
                      .Form(form => form.Setup("custom_message", customMessage))
                      .Form(form => form.Setup("real_name", realName))
                      .Form(form => form.Setup("resend", resend))
                      .Form(form => form.Setup("is_restricted", isRestricted))
                      .Form(form => form.Setup("is_ultra_restricted", isUltraRestricted))
                      .Form(form => form.Setup("guest_expiration_ts", guestExpirationTs))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new DefaultErrorTemplateException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// List users on a workspace.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:read`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="cursor">Optional parameter: Set `cursor` to `next_cursor` returned by the previous call to list items in the next page..</param>
        /// <param name="limit">Optional parameter: Limit for how many users to be retrieved per page.</param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public ApiResponse<Models.DefaultSuccessTemplate> AdminUsersList(
                string token,
                string teamId,
                string cursor = null,
                int? limit = null)
            => CoreHelper.RunTask(AdminUsersListAsync(token, teamId, cursor, limit));

        /// <summary>
        /// List users on a workspace.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:read`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="cursor">Optional parameter: Set `cursor` to `next_cursor` returned by the previous call to list items in the next page..</param>
        /// <param name="limit">Optional parameter: Limit for how many users to be retrieved per page.</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public async Task<ApiResponse<Models.DefaultSuccessTemplate>> AdminUsersListAsync(
                string token,
                string teamId,
                string cursor = null,
                int? limit = null,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.DefaultSuccessTemplate>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Get, "/admin.users.list")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("token", token).Required())
                      .Query(query => query.Setup("team_id", teamId).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))
                      .Query(query => query.Setup("cursor", cursor))
                      .Query(query => query.Setup("limit", limit))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new DefaultErrorTemplateException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Remove a user from a workspace.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: The ID of the user to remove..</param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public ApiResponse<Models.DefaultSuccessTemplate> AdminUsersRemove(
                string token,
                string teamId,
                string userId)
            => CoreHelper.RunTask(AdminUsersRemoveAsync(token, teamId, userId));

        /// <summary>
        /// Remove a user from a workspace.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: The ID of the user to remove..</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public async Task<ApiResponse<Models.DefaultSuccessTemplate>> AdminUsersRemoveAsync(
                string token,
                string teamId,
                string userId,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.DefaultSuccessTemplate>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/admin.users.remove")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("token", token).Required())
                      .Form(form => form.Setup("team_id", teamId).Required())
                      .Form(form => form.Setup("user_id", userId).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new DefaultErrorTemplateException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Set an existing guest, regular user, or owner to be an admin user.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: The ID of the user to designate as an admin..</param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public ApiResponse<Models.DefaultSuccessTemplate> AdminUsersSetAdmin(
                string token,
                string teamId,
                string userId)
            => CoreHelper.RunTask(AdminUsersSetAdminAsync(token, teamId, userId));

        /// <summary>
        /// Set an existing guest, regular user, or owner to be an admin user.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: The ID of the user to designate as an admin..</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public async Task<ApiResponse<Models.DefaultSuccessTemplate>> AdminUsersSetAdminAsync(
                string token,
                string teamId,
                string userId,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.DefaultSuccessTemplate>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/admin.users.setAdmin")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("token", token).Required())
                      .Form(form => form.Setup("team_id", teamId).Required())
                      .Form(form => form.Setup("user_id", userId).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new DefaultErrorTemplateException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Set an expiration for a guest user.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: The ID of the user to set an expiration for..</param>
        /// <param name="expirationTs">Required parameter: Timestamp when guest account should be disabled..</param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public ApiResponse<Models.DefaultSuccessTemplate> AdminUsersSetExpiration(
                string token,
                string teamId,
                string userId,
                int expirationTs)
            => CoreHelper.RunTask(AdminUsersSetExpirationAsync(token, teamId, userId, expirationTs));

        /// <summary>
        /// Set an expiration for a guest user.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: The ID of the user to set an expiration for..</param>
        /// <param name="expirationTs">Required parameter: Timestamp when guest account should be disabled..</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public async Task<ApiResponse<Models.DefaultSuccessTemplate>> AdminUsersSetExpirationAsync(
                string token,
                string teamId,
                string userId,
                int expirationTs,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.DefaultSuccessTemplate>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/admin.users.setExpiration")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("token", token).Required())
                      .Form(form => form.Setup("team_id", teamId).Required())
                      .Form(form => form.Setup("user_id", userId).Required())
                      .Form(form => form.Setup("expiration_ts", expirationTs))
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new DefaultErrorTemplateException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Set an existing guest, regular user, or admin user to be a workspace owner.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: Id of the user to promote to owner..</param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public ApiResponse<Models.DefaultSuccessTemplate> AdminUsersSetOwner(
                string token,
                string teamId,
                string userId)
            => CoreHelper.RunTask(AdminUsersSetOwnerAsync(token, teamId, userId));

        /// <summary>
        /// Set an existing guest, regular user, or admin user to be a workspace owner.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: Id of the user to promote to owner..</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public async Task<ApiResponse<Models.DefaultSuccessTemplate>> AdminUsersSetOwnerAsync(
                string token,
                string teamId,
                string userId,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.DefaultSuccessTemplate>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/admin.users.setOwner")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("token", token).Required())
                      .Form(form => form.Setup("team_id", teamId).Required())
                      .Form(form => form.Setup("user_id", userId).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new DefaultErrorTemplateException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Set an existing guest user, admin user, or owner to be a regular user.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: The ID of the user to designate as a regular user..</param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public ApiResponse<Models.DefaultSuccessTemplate> AdminUsersSetRegular(
                string token,
                string teamId,
                string userId)
            => CoreHelper.RunTask(AdminUsersSetRegularAsync(token, teamId, userId));

        /// <summary>
        /// Set an existing guest user, admin user, or owner to be a regular user.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `admin.users:write`.</param>
        /// <param name="teamId">Required parameter: The ID (`T1234`) of the workspace..</param>
        /// <param name="userId">Required parameter: The ID of the user to designate as a regular user..</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.DefaultSuccessTemplate response from the API call.</returns>
        public async Task<ApiResponse<Models.DefaultSuccessTemplate>> AdminUsersSetRegularAsync(
                string token,
                string teamId,
                string userId,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.DefaultSuccessTemplate>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/admin.users.setRegular")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("token", token).Required())
                      .Form(form => form.Setup("team_id", teamId).Required())
                      .Form(form => form.Setup("user_id", userId).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new DefaultErrorTemplateException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);
    }
}