// <copyright file="UsersController.cs" company="APIMatic">
// SlackWebApi.Standard
//
// This file was automatically generated by APIMATIC v3.0 ( https://www.apimatic.io ).
// </copyright>
using APIMatic.Core;
using APIMatic.Core.Utilities;
using SlackWebApi.Standard.Exceptions;
using SlackWebApi.Standard.Http.Response;
using System.Net.Http;
using System.Threading;
using System.Threading.Tasks;

namespace SlackWebApi.Standard.Controllers
{
    /// <summary>
    /// UsersController.
    /// </summary>
    public class UsersController : BaseController
    {
        /// <summary>
        /// Initializes a new instance of the <see cref="UsersController"/> class.
        /// </summary>
        internal UsersController(GlobalConfiguration globalConfiguration) : base(globalConfiguration) { }

        /// <summary>
        /// List conversations the calling user may access.
        /// </summary>
        /// <param name="token">Optional parameter: Authentication token. Requires scope: `conversations:read`.</param>
        /// <param name="user">Optional parameter: Browse conversations by a specific user ID's membership. Non-public channels are restricted to those where the calling user shares membership..</param>
        /// <param name="types">Optional parameter: Mix and match channel types by providing a comma-separated list of any combination of `public_channel`, `private_channel`, `mpim`, `im`.</param>
        /// <param name="excludeArchived">Optional parameter: Set to `true` to exclude archived channels from the list.</param>
        /// <param name="limit">Optional parameter: The maximum number of items to return. Fewer than the requested number of items may be returned, even if the end of the list hasn't been reached. Must be an integer no larger than 1000..</param>
        /// <param name="cursor">Optional parameter: Paginate through collections of data by setting the `cursor` parameter to a `next_cursor` attribute returned by a previous request's `response_metadata`. Default value fetches the first "page" of the collection. See [pagination](/docs/pagination) for more detail..</param>
        /// <returns>Returns the ApiResponse of Models.UsersConversationsSuccessSchema response from the API call.</returns>
        public ApiResponse<Models.UsersConversationsSuccessSchema> UsersConversations(
                string token = null,
                string user = null,
                string types = null,
                bool? excludeArchived = null,
                int? limit = null,
                string cursor = null)
            => CoreHelper.RunTask(UsersConversationsAsync(token, user, types, excludeArchived, limit, cursor));

        /// <summary>
        /// List conversations the calling user may access.
        /// </summary>
        /// <param name="token">Optional parameter: Authentication token. Requires scope: `conversations:read`.</param>
        /// <param name="user">Optional parameter: Browse conversations by a specific user ID's membership. Non-public channels are restricted to those where the calling user shares membership..</param>
        /// <param name="types">Optional parameter: Mix and match channel types by providing a comma-separated list of any combination of `public_channel`, `private_channel`, `mpim`, `im`.</param>
        /// <param name="excludeArchived">Optional parameter: Set to `true` to exclude archived channels from the list.</param>
        /// <param name="limit">Optional parameter: The maximum number of items to return. Fewer than the requested number of items may be returned, even if the end of the list hasn't been reached. Must be an integer no larger than 1000..</param>
        /// <param name="cursor">Optional parameter: Paginate through collections of data by setting the `cursor` parameter to a `next_cursor` attribute returned by a previous request's `response_metadata`. Default value fetches the first "page" of the collection. See [pagination](/docs/pagination) for more detail..</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.UsersConversationsSuccessSchema response from the API call.</returns>
        public async Task<ApiResponse<Models.UsersConversationsSuccessSchema>> UsersConversationsAsync(
                string token = null,
                string user = null,
                string types = null,
                bool? excludeArchived = null,
                int? limit = null,
                string cursor = null,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.UsersConversationsSuccessSchema>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Get, "/users.conversations")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))
                      .Query(query => query.Setup("token", token))
                      .Query(query => query.Setup("user", user))
                      .Query(query => query.Setup("types", types))
                      .Query(query => query.Setup("exclude_archived", excludeArchived))
                      .Query(query => query.Setup("limit", limit))
                      .Query(query => query.Setup("cursor", cursor))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new UsersConversationsErrorSchemaException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Delete the user profile photo.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users.profile:write`.</param>
        /// <returns>Returns the ApiResponse of Models.UsersDeletePhotoSchema response from the API call.</returns>
        public ApiResponse<Models.UsersDeletePhotoSchema> UsersDeletePhoto(
                string token)
            => CoreHelper.RunTask(UsersDeletePhotoAsync(token));

        /// <summary>
        /// Delete the user profile photo.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users.profile:write`.</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.UsersDeletePhotoSchema response from the API call.</returns>
        public async Task<ApiResponse<Models.UsersDeletePhotoSchema>> UsersDeletePhotoAsync(
                string token,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.UsersDeletePhotoSchema>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/users.deletePhoto")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Form(form => form.Setup("token", token).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new UsersDeletePhotoErrorSchemaException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Gets user presence information.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users:read`.</param>
        /// <param name="user">Optional parameter: User to get presence info on. Defaults to the authed user..</param>
        /// <returns>Returns the ApiResponse of Models.ApiMethodUsersGetPresence response from the API call.</returns>
        public ApiResponse<Models.ApiMethodUsersGetPresence> UsersGetPresence(
                string token,
                string user = null)
            => CoreHelper.RunTask(UsersGetPresenceAsync(token, user));

        /// <summary>
        /// Gets user presence information.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users:read`.</param>
        /// <param name="user">Optional parameter: User to get presence info on. Defaults to the authed user..</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.ApiMethodUsersGetPresence response from the API call.</returns>
        public async Task<ApiResponse<Models.ApiMethodUsersGetPresence>> UsersGetPresenceAsync(
                string token,
                string user = null,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.ApiMethodUsersGetPresence>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Get, "/users.getPresence")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Query(query => query.Setup("token", token).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))
                      .Query(query => query.Setup("user", user))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new UsersCountsErrorSchemaException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Get a user's identity.
        /// </summary>
        /// <param name="token">Optional parameter: Authentication token. Requires scope: `identity.basic`.</param>
        /// <returns>Returns the ApiResponse of dynamic response from the API call.</returns>
        public ApiResponse<dynamic> UsersIdentity(
                string token = null)
            => CoreHelper.RunTask(UsersIdentityAsync(token));

        /// <summary>
        /// Get a user's identity.
        /// </summary>
        /// <param name="token">Optional parameter: Authentication token. Requires scope: `identity.basic`.</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of dynamic response from the API call.</returns>
        public async Task<ApiResponse<dynamic>> UsersIdentityAsync(
                string token = null,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<dynamic>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Get, "/users.identity")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))
                      .Query(query => query.Setup("token", token))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new UsersIdentityErrorSchemaException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Gets information about a user.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users:read`.</param>
        /// <param name="includeLocale">Optional parameter: Set this to `true` to receive the locale for this user. Defaults to `false`.</param>
        /// <param name="user">Optional parameter: User to get info on.</param>
        /// <returns>Returns the ApiResponse of Models.UsersInfoSuccessSchema response from the API call.</returns>
        public ApiResponse<Models.UsersInfoSuccessSchema> UsersInfo(
                string token,
                bool? includeLocale = null,
                string user = null)
            => CoreHelper.RunTask(UsersInfoAsync(token, includeLocale, user));

        /// <summary>
        /// Gets information about a user.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users:read`.</param>
        /// <param name="includeLocale">Optional parameter: Set this to `true` to receive the locale for this user. Defaults to `false`.</param>
        /// <param name="user">Optional parameter: User to get info on.</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.UsersInfoSuccessSchema response from the API call.</returns>
        public async Task<ApiResponse<Models.UsersInfoSuccessSchema>> UsersInfoAsync(
                string token,
                bool? includeLocale = null,
                string user = null,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.UsersInfoSuccessSchema>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Get, "/users.info")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Query(query => query.Setup("token", token).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))
                      .Query(query => query.Setup("include_locale", includeLocale))
                      .Query(query => query.Setup("user", user))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new UsersInfoErrorSchemaException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Lists all users in a Slack team.
        /// </summary>
        /// <param name="token">Optional parameter: Authentication token. Requires scope: `users:read`.</param>
        /// <param name="limit">Optional parameter: The maximum number of items to return. Fewer than the requested number of items may be returned, even if the end of the users list hasn't been reached. Providing no `limit` value will result in Slack attempting to deliver you the entire result set. If the collection is too large you may experience `limit_required` or HTTP 500 errors..</param>
        /// <param name="cursor">Optional parameter: Paginate through collections of data by setting the `cursor` parameter to a `next_cursor` attribute returned by a previous request's `response_metadata`. Default value fetches the first "page" of the collection. See [pagination](/docs/pagination) for more detail..</param>
        /// <param name="includeLocale">Optional parameter: Set this to `true` to receive the locale for users. Defaults to `false`.</param>
        /// <returns>Returns the ApiResponse of Models.UsersListSchema response from the API call.</returns>
        public ApiResponse<Models.UsersListSchema> UsersList(
                string token = null,
                int? limit = null,
                string cursor = null,
                bool? includeLocale = null)
            => CoreHelper.RunTask(UsersListAsync(token, limit, cursor, includeLocale));

        /// <summary>
        /// Lists all users in a Slack team.
        /// </summary>
        /// <param name="token">Optional parameter: Authentication token. Requires scope: `users:read`.</param>
        /// <param name="limit">Optional parameter: The maximum number of items to return. Fewer than the requested number of items may be returned, even if the end of the users list hasn't been reached. Providing no `limit` value will result in Slack attempting to deliver you the entire result set. If the collection is too large you may experience `limit_required` or HTTP 500 errors..</param>
        /// <param name="cursor">Optional parameter: Paginate through collections of data by setting the `cursor` parameter to a `next_cursor` attribute returned by a previous request's `response_metadata`. Default value fetches the first "page" of the collection. See [pagination](/docs/pagination) for more detail..</param>
        /// <param name="includeLocale">Optional parameter: Set this to `true` to receive the locale for users. Defaults to `false`.</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.UsersListSchema response from the API call.</returns>
        public async Task<ApiResponse<Models.UsersListSchema>> UsersListAsync(
                string token = null,
                int? limit = null,
                string cursor = null,
                bool? includeLocale = null,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.UsersListSchema>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Get, "/users.list")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))
                      .Query(query => query.Setup("token", token))
                      .Query(query => query.Setup("limit", limit))
                      .Query(query => query.Setup("cursor", cursor))
                      .Query(query => query.Setup("include_locale", includeLocale))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new UsersListErrorSchemaException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Find a user with an email address.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users:read.email`.</param>
        /// <param name="email">Required parameter: An email address belonging to a user in the workspace.</param>
        /// <returns>Returns the ApiResponse of Models.UsersLookupByEmailSuccessSchema response from the API call.</returns>
        public ApiResponse<Models.UsersLookupByEmailSuccessSchema> UsersLookupByEmail(
                string token,
                string email)
            => CoreHelper.RunTask(UsersLookupByEmailAsync(token, email));

        /// <summary>
        /// Find a user with an email address.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users:read.email`.</param>
        /// <param name="email">Required parameter: An email address belonging to a user in the workspace.</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.UsersLookupByEmailSuccessSchema response from the API call.</returns>
        public async Task<ApiResponse<Models.UsersLookupByEmailSuccessSchema>> UsersLookupByEmailAsync(
                string token,
                string email,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.UsersLookupByEmailSuccessSchema>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Get, "/users.lookupByEmail")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Query(query => query.Setup("token", token).Required())
                      .Query(query => query.Setup("email", email).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new UsersLookupByEmailErrorSchemaException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Marked a user as active. Deprecated and non-functional.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users:write`.</param>
        /// <returns>Returns the ApiResponse of Models.UsersSetActiveSchema response from the API call.</returns>
        public ApiResponse<Models.UsersSetActiveSchema> UsersSetActive(
                string token)
            => CoreHelper.RunTask(UsersSetActiveAsync(token));

        /// <summary>
        /// Marked a user as active. Deprecated and non-functional.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users:write`.</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.UsersSetActiveSchema response from the API call.</returns>
        public async Task<ApiResponse<Models.UsersSetActiveSchema>> UsersSetActiveAsync(
                string token,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.UsersSetActiveSchema>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/users.setActive")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("token", token).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new UsersSetActiveErrorSchemaException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Set the user profile photo.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users.profile:write`.</param>
        /// <param name="cropW">Optional parameter: Width/height of crop box (always square).</param>
        /// <param name="cropX">Optional parameter: X coordinate of top-left corner of crop box.</param>
        /// <param name="cropY">Optional parameter: Y coordinate of top-left corner of crop box.</param>
        /// <param name="image">Optional parameter: File contents via `multipart/form-data`..</param>
        /// <returns>Returns the ApiResponse of Models.UsersSetPhotoSchema response from the API call.</returns>
        public ApiResponse<Models.UsersSetPhotoSchema> UsersSetPhoto(
                string token,
                string cropW = null,
                string cropX = null,
                string cropY = null,
                string image = null)
            => CoreHelper.RunTask(UsersSetPhotoAsync(token, cropW, cropX, cropY, image));

        /// <summary>
        /// Set the user profile photo.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users.profile:write`.</param>
        /// <param name="cropW">Optional parameter: Width/height of crop box (always square).</param>
        /// <param name="cropX">Optional parameter: X coordinate of top-left corner of crop box.</param>
        /// <param name="cropY">Optional parameter: Y coordinate of top-left corner of crop box.</param>
        /// <param name="image">Optional parameter: File contents via `multipart/form-data`..</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.UsersSetPhotoSchema response from the API call.</returns>
        public async Task<ApiResponse<Models.UsersSetPhotoSchema>> UsersSetPhotoAsync(
                string token,
                string cropW = null,
                string cropX = null,
                string cropY = null,
                string image = null,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.UsersSetPhotoSchema>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/users.setPhoto")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Form(form => form.Setup("token", token).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))
                      .Form(form => form.Setup("crop_w", cropW))
                      .Form(form => form.Setup("crop_x", cropX))
                      .Form(form => form.Setup("crop_y", cropY))
                      .Form(form => form.Setup("image", image))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new UsersSetPhotoErrorSchemaException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);

        /// <summary>
        /// Manually sets user presence.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users:write`.</param>
        /// <param name="presence">Required parameter: Either `auto` or `away`.</param>
        /// <returns>Returns the ApiResponse of Models.UsersSetPresenceSchema response from the API call.</returns>
        public ApiResponse<Models.UsersSetPresenceSchema> UsersSetPresence(
                string token,
                string presence)
            => CoreHelper.RunTask(UsersSetPresenceAsync(token, presence));

        /// <summary>
        /// Manually sets user presence.
        /// </summary>
        /// <param name="token">Required parameter: Authentication token. Requires scope: `users:write`.</param>
        /// <param name="presence">Required parameter: Either `auto` or `away`.</param>
        /// <param name="cancellationToken"> cancellationToken. </param>
        /// <returns>Returns the ApiResponse of Models.UsersSetPresenceSchema response from the API call.</returns>
        public async Task<ApiResponse<Models.UsersSetPresenceSchema>> UsersSetPresenceAsync(
                string token,
                string presence,
                CancellationToken cancellationToken = default)
            => await CreateApiCall<Models.UsersSetPresenceSchema>()
              .RequestBuilder(requestBuilder => requestBuilder
                  .Setup(HttpMethod.Post, "/users.setPresence")
                  .WithAuth("slackAuth")
                  .Parameters(parameters => parameters
                      .Header(header => header.Setup("token", token).Required())
                      .Form(form => form.Setup("presence", presence).Required())
                      .Header(header => header.Setup("Content-Type", "application/x-www-form-urlencoded"))))
              .ResponseHandler(responseHandler => responseHandler
                  .ErrorCase("0", CreateErrorCase("Typical error response", (errorReason, context) => new UsersSetPresenceErrorSchemaException(errorReason, context))))
              .ExecuteAsync(cancellationToken).ConfigureAwait(false);
    }
}